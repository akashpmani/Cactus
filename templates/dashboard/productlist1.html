{% load static %}
<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:32:35 GMT -->
<head>
    <meta charset="utf-8">
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css"  />
    <link rel="shortcut icon" type="image/x-icon" href=" {% static 'dash_board/assets/imgs/theme/favicon.svg' %}">
    <!-- Template CSS -->
    <link href="{% static 'dash_board/assets/css/main.css' %}" rel="stylesheet" type="text/css" />
    {% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css
    ">
     {% endcomment %}   
</head>

<body>

        
        
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
   
        <script defer src="https://cdn.crop.guide/loader/l.js?c=123ABC"></script>
        <script src="{% static 'dash_board/assets/js/vendors/jquery-3.6.0.min.js' %}"></script>
        <script src="{% static 'dash_board/assets/js/vendors/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'dash_board/assets/js/vendors/select2.min.js' %}"></script>
        <script src="{% static 'dash_board/assets/js/vendors/perfect-scrollbar.js' %}"></script>
        <script src="{% static 'dash_board/assets/js/vendors/jquery.fullscreen.min.js' %}"></script>
        <script src="{% static 'dash_board/assets/js/vendors/chart.js' %}"></script>
        <!-- Main Script -->
        <script src="{% static 'dash_board/assets/js/main.js' %}" type="text/javascript"></script>
        <script src="{% static 'dash_board/assets/js/custom-chart.js' %}" type="text/javascript"></script>

    </body>
    
    <div class="container">
        <div class="row">
          <div class="col-xs-12">
            <label class="cabinet center-block">
              <figure>
                <img src="" class="gambar img-responsive img-thumbnail" id="item-img-output" />
                <figcaption><i class="fa fa-camera"></i></figcaption>
              </figure>
              <input type="file" class="item-img file center-block" name="file_photo" accept=".png, .jpg, .jpeg" multiple />
            </label>
          </div>
        </div>
      </div>
      
      <!-- Modal for image cropping -->
      <div class="modal fade" id="cropImagePop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title" id="myModalLabel">Edit Foto</h4>
            </div>
            <div class="modal-body">
              <div id="upload-demo" class="center-block"></div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" id="cropImageBtn" class="btn btn-primary">Crop</button>
            </div>
          </div>
        </div>
      </div>
      
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.5.0/js/bootstrap.bundle.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"></script>
      <script>
        $(document).ready(function() {
          // Start upload preview image
          $(".gambar").attr("src", "https://user.gadjian.com/static/images/personnel_boy.png");
      
          var $uploadCrop,
            tempFilename,
            rawImg,
            imageId;
      
          function readFile(input) {
            $("#status").html('Processing...');
            var counter = input.files.length;
      
            for (var x = 0; x < counter; x++) {
              if (input.files && input.files[x]) {
                var reader = new FileReader();
      
                reader.onload = function(e) {
                  $("#photos").append('<div class="col-md-3 col-sm-3 col-xs-3"><img src="' + e.target.result + '" class="img-thumbnail"></div>');
                };
      
                reader.readAsDataURL(input.files[x]);
              }
            }
      
            if (counter === x) {
              $("#status").html('');
            }
          }
      
          $uploadCrop = $('#upload-demo').croppie({
            viewport: {
              width: 150,
              height: 200,
            },
            enforceBoundary: false,
            enableExif: true
          });
      
          $('#cropImagePop').on('shown.bs.modal', function() {
            $uploadCrop.croppie('bind', {
              url: rawImg
            }).then(function() {
              console.log('jQuery bind complete');
            });
          });
      
          $('.item-img').on('change', function() {
            imageId = $(this).data('id');
            tempFilename = $(this).val();
            $('#cancelCropBtn').data('id', imageId);
            readFile(this);
          });
      
          $('#cropImageBtn').on('click', function(ev) {
            $uploadCrop.croppie('result', {
              type: 'base64',
              format: 'jpeg',
              size: {
                width: 150,
                height: 200
              }
            }).then(function(resp) {
              $('#item-img-output').attr('src', resp);
              $('#cropImagePop').modal('hide');
            });
          });
      
          // Initialize the color picker
          $('.colorpicker').colorpicker();
        });
      </script>
      


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-categories.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:21 GMT -->

</html>

















<section class="content-main">                   
  <div class="card-body">    
      {% for product in products %}
      <article class="itemlist bg-white border p-2">
        <div class="row align-items-center">
          <div class="col-lg-4 col-sm-4 col-6 col-name">
            <div class="d-flex">
              <div class="left">
                <img src="{{product.image.url}}" class="img-thumbnail rounded custom-image" alt="Item">
              </div>
            </div>
            <div class="col-lg-4 col-sm-4 col-6 col-name">
              <div class="info ml-3">
                <h6 class="mb-1">{{product.name}}</h6>
                <h10 class="mb-0">{{product.bio_name}}</h10>
              </div>
            </div>
          
        
          <style>
            .custom-image {
              width: 50px; /* Set the desired width */
              height: 50px; /* Set the desired height */
              object-fit: cover; /* Adjust image aspect ratio */
            }
          </style>
        
          <div class="col-lg-2 col-sm-2 col-4 col-status d-flex align-items-center justify-content-center">
            {% if product.is_active %}
            <span class="badge rounded-pill bg-success">Active</span>
            {% else %}
            <span class="badge rounded-pill bg-warning">Inactive</span>
            {% endif %}
          </div>
        
          <div class="col-lg-4 col-sm-6 d-flex align-items-center justify-content-end">
            <!-- Content for screen width above 900px -->
          </div>
        
          <div class="col-lg-2 col-sm-2 col-1 d-flex align-items-center justify-content-end">
            <style>
              .plus-icon svg {
                color: black;
              }
            </style>
            <i class="plus-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
              </svg>
            </i>
          </div>
        </div>
        
             
<hr>
<div class="collapsed" id="{{product.name}}">
{% for product_data in product_variants %}
      {% if product_data.product == product %}
      
          <h5>{{ product_data.product.name }} - varients</h5>
          {% for product_item in product_data.product_items %}
              <div>
              
                      <div class="row">
                          <div class="col-sm-2">
                              <!-- Content for the fourth part -->
                          </div>
                         
                          <div class="col-sm-2">
                              <!-- Content for the second part -->
                              <p>Size : {{ product_item.get_size_display }}</p>
                          </div>
                          <div class="col-sm-2">
                              <!-- Content for the third part -->
                              <p>Price : â‚¹{{ product_item.price }}</p>
                          </div>
                          <div class="col-sm-2">
                              <!-- Content for the third part -->
                             
                              {% if  product_item.quantity > 20 %}
                              <span class="badge rounded-pill bg-success">{{product_item.quantity}} - In-stock</span>
                          {% elif product_item.quantity > 0 %}
                              <span class="badge rounded-pill bg-warning">{{product_item.quantity}} - Low-stock</span>
                              {% else %}
                              <span class="badge rounded-pill bg-danger">{{product_item.quantity}} - Out of stock</span>
                          {% endif %}
                          </div>
                          <div class="col-sm-2">
                              <!-- Content for the fourth part -->
                              <button class="btn btn-primary btn-xs" data-bs-toggle="modal" data-bs-target="#exampleModal{{ product_item.id }}">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                    <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                                    <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                                  </svg>
                                </button>
                          </div>
                          <br>    
                         
                         
                      </div>
                      
                      <!-- Display product_item details -->

                  <!-- ... and other fields of Product_item -->
              </div>

              <div class="modal fade" id="exampleModal{{ product_item.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Edit Category</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                          
                      <form method="post" action="{% url 'dashboard:edit_category' product_item.id %}" enctype="multipart/form-data">
                          {% csrf_token %} 
                          <div class="mb-4">
                            <input type="text" placeholder="Category" class="form-control" id="category_name{{product_item.id }}" name="Category_name" value="{{ product_item.id }}" />
                          </div>
                          <div class="mb-4">
                            <input type="text" placeholder="Type here" name="slug" class="form-control" id="product_slug{{ product_item.id }}" value="{{ product_item.id }}" />
                          </div>
                          <input type="submit" class="btn btn-primary" value="Save Changes" />
                        </form>
                       
                        </form>
                        <button type="button"  class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      </div>
                      </div> 
                    </div>
              </div>


                 
          {% endfor %}
      {% endif %}
 
      {% endfor %}
      <hr>
      <div class="row mt-5">
          <div class="col d-flex justify-content-end">
              {% if product.is_active %}
              <!-- Content for the first part -->
            <a href="{% url 'dashboard:productstatus' product.id %}">  <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Deactivate</button></a>
              {% else %}
              <!-- Content for the first part -->
              <a href="{% url 'dashboard:productstatus' product.id %}">  <button type="button" class="btn btn-success " data-bs-dismiss="modal">activate</button></a>
              {% endif %}
          </div>
          <div class="col text-center">
              <!-- Content for the second part -->
              <button type="button" class="btn" style="background-color: #20c997;" data-bs-toggle="modal" data-bs-target="#exampleModal{{ product.id }}"><span style="size: 200%;">+</span> Variants</button>
            </div>
          <div class="col">
              <!-- Content for the third part -->
             <a href="{% url 'dashboard:deleteproduct' product.id %}"> <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Delete product</button></a>
          </div>
      </div>
      
      
      

      
      
          </div>
          <div class="modal fade" id="exampleModal{{ product.id }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add Varients</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                      
                      <div class="container">
                          <form >
                            {% csrf_token %}
                            <div class="mb-4">
                              <input type="text" placeholder="Product" class="form-control" name="product" value="{{ product.id }}" hidden />
                            </div>
                          
                            <div class="mb-4">
                              <label for="size" class="form-label">Size</label>
                              <select class="form-select" id="size" name="size" aria-placeholder="Parent">
                                {% for size, label in size_choice %}
                                  <option value="{{ size }}">{{ label }}</option>
                                {% endfor %}
                              </select>
                            </div>
                          
                            <div class="row">
                              <div class="col-lg-6">
                                <div class="mb-4">
                                  <label for="price" class="form-label">Price</label>
                                  <input type="number" placeholder="Price" class="form-control" id="price" name="price" />
                                </div>
                              </div>
                              <div class="col-lg-6">
                                <div class="mb-4">
                                  <label for="quantity" class="form-label">Quantity</label>
                                  <input type="number" placeholder="Quantity" class="form-control" id="quantity" name="quantity" />
                                </div>
                              </div>
                            </div>
                        
                            <div class="row align-items-center">
                              <div class="col-sm-6">
                                <div class="form-check form-switch">
                                  <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked name="is_active">
                                  <label class="form-check-label" for="flexSwitchCheckChecked">Active</label>
                                </div>
                              </div>
                              <input type="hidden" name="cropped_images" id="cropped_images" value="">

                              <div class="col-sm-6">
                                <div class="upload__box">
                                  <div class="upload__img-wrap"></div>
                                </div>
                              </div>
                            </div>
                        
                            <div class="form-group">
                              <div class="col-sm-10">
                                <input type="file" class="form-control image" name="photo" id="photo" accept=".png, .jpg, .jpeg" onchange="readFile(this);" multiple>
                              </div>
                            </div>
                            <input type="hidden" name="cropped_images" id="cropped_images" value="">

                          
                          <div id="status"></div>
                          <div id="photos" class="row"></div>
                        </div>
                        <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-lg" role="document">
                              <div class="modal-content">
                                  <div class="modal-header">
                                      <h5 class="modal-title" id="modalLabel">Crop image</h5>
                                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">Ã—</span>
                                      </button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="img-container">
                                          <div class="row">
                                              <div class="col-md-8">  
                                                  <!--  default image where we will set the src via jquery-->
                                                  <img id="image">
                                              </div>
                                              <div class="col-md-4">
                                                  <div class="preview"></div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                                  <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                      <button type="button" class="btn btn-primary" id="crop">Crop</button>
                                  </div>
                              </div>
                          </div>
                      </div>
              
                  </div>
                           
<hr>                                                                      
                          <div class="mb-4">
                            <button type="submit" class="btn btn-primary">Save Changes</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                          </div>
                        </form>
                        
                </div>
      </article> <!-- itemlist  .// -->
      {% endfor %}
  </div>                       
</section>
