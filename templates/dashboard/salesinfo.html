{% load static %}
<!DOCTYPE HTML>
<html lang="en">


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-products-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:00 GMT -->
<head>
    <meta charset="utf-8">
    <title>Evara Dashboard</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link href="{% static 'dash_board/assets/css/main.css' %}" rel="stylesheet" type="text/css" />
</head>

<body>
    <div class="screen-overlay"></div>
    <aside class="navbar-aside" id="offcanvas_aside">
        <div class="aside-top">
            <a href="index.html" class="brand-wrap">
                <img src="assets/imgs/theme/logo.svg" class="logo" alt="Evara Dashboard">
            </a>
            <div>
                <button class="btn btn-icon btn-aside-minimize"> <i class="text-muted material-icons md-menu_open"></i> </button>
            </div>
        </div>
        <nav>
            <ul class="menu-aside">
                <li class="menu-item ">
                    <a class="menu-link" href="{% url 'dashboard:dashboard' %}"> <i class="icon material-icons md-home"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="{% url 'dashboard:products' %}"> <i class="icon material-icons md-shopping_bag"></i>
                        <span class="text">Products</span>
                    </a>
                    
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="{% url 'dashboard:orders' %}"> <i class="icon material-icons md-shopping_cart"></i>
                        <span class="text">Orders</span>
                    </a>
                </li>
                <li class="menu-item active">
                    <a class="menu-link" href="{% url 'dashboard:coupons' %}"> <i class="icon material-icons md-store"></i>
                        <span class="text">Coupons</span>
                    </a>

                </li>
                <li class="menu-item has-submenu ">
                    <a class="menu-link" href="{% url 'dashboard:addproduct' %}"> <i class="icon material-icons md-add_box"></i>
                        <span class="text">Add product</span>
                    </a>
                    <div class="submenu">
                        <a href="{% url 'dashboard:addproduct' %}">Add product </a>
                        <a href="{% url 'dashboard:addcategory' %}">Add Categories</a>
                        <a href="{% url 'dashboard:addtags' %}">Add Tags</a>
                    </div>
                </li>
                <li class="menu-item ">
                    <a class="menu-link" href="{% url 'dashboard:sale' %}"> <i class="icon material-icons md-monetization_on"></i>
                        <span class="text">Sale</span>
                    </a>
                   
                </li>
                <li class="menu-item">
                    <a class="menu-link" href="{% url 'dashboard:users' %}"> <i class="icon material-icons md-person"></i>
                        <span class="text">User Management</span>
                    </a>
             
                </li>
                <li class="menu-item">
                    <a class="menu-link" href="{% url 'dashboard:carosal' %}"> <i class="icon material-icons md-person"></i>
                        <span class="text">Customize Home</span>
                    </a>
             
                </li>
                {% comment %} <li class="menu-item">
                    <a class="menu-link" href="page-reviews.html"> <i class="icon material-icons md-comment"></i>
                        <span class="text">Reviews</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a class="menu-link" href="page-brands.html"> <i class="icon material-icons md-stars"></i>
                        <span class="text">Brands</span> </a>
                </li>
                <li class="menu-item">
                    <a class="menu-link" disabled href="#"> <i class="icon material-icons md-pie_chart"></i>
                        <span class="text">Statistics</span>
                    </a>
                </li> {% endcomment %}
            </ul>
            <hr>
      
            <br>
            <br>
        </nav>
    </aside>
    <main class="main-wrap">
        <section class="content-main">
            <div class="content-header">
                <div>
                    <h2 class="content-title card-title">Reviews</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
                <div>
                    <input type="text" placeholder="Search by name" class="form-control bg-white">
                </div>
            </div>
            <div class="card mb-4">
                <header class="card-header">
                    <div class="row gx-3">
                       
                        <div class="col-6">
                        <a href="#open-modal" class="btn btn-md rounded font-sm">Add Products + </a>  
                    </div>
                    </div>
                </header>
                <!-- card-header end// -->
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                   
                                    <th>#ID</th>
                                    <th>Product</th>
                                    <th>Offer </th>
                                    <th class="text-end">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for c in products  %}
                                <tr>
                                
                                    <td>{{c.product.id}}</td>
                                    <td><b>{{c.product.name}}</b></td>
                                
                                  
                                    <td>{{c.offer}} %</td>
                                    <td class="text-end">
                                        <a href="#" class="btn btn-md rounded font-sm">Detail</a>
                                        
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div> <!-- table-responsive//end -->
                </div>
                <!-- card-body end// -->
            </div>
            {% comment %} <div class="pagination-area mt-30 mb-50">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-start">
                        <li class="page-item active"><a class="page-link" href="#">01</a></li>
                        <li class="page-item"><a class="page-link" href="#">02</a></li>
                        <li class="page-item"><a class="page-link" href="#">03</a></li>
                        <li class="page-item"><a class="page-link dot" href="#">...</a></li>
                        <li class="page-item"><a class="page-link" href="#">16</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="material-icons md-chevron_right"></i></a></li>
                    </ul>
                </nav>
            </div> {% endcomment %}
        </section> <!-- content-main end// -->
    
                <footer class="main-footer font-xs">
                    <div class="row pb-30 pt-15">
                        <div class="col-sm-6">
                            <script>
                            document.write(new Date().getFullYear())
                            </script> Â©, Evara - HTML Ecommerce Template .
                        </div>
                        <div class="col-sm-6">
                            <div class="text-sm-end">
                                All rights reserved
                            </div>
                        </div>
                    </div>
                </footer>
    </main>
  
<div id="open-modal" class="modal-window">
    <div>
      <a href="#" title="Close" class="modal-close">Close</a>
      <h4>Add Products to {{classification.title}}!</h4>
      <br>
      <div class="modal-content m-auto">

        <input type="text" id="searchInput" placeholder="Search for plants...">
        <form id="addProductsForm">
          {% for plant in plants %}
            <label class="m-auto p-1">
              <input type="checkbox" name="selectedPlants" value="{{ plant.id }}"> {{ plant.name }}
            </label>
          {% endfor %}
        </div>
          <div class="form-group">
            <label for="title">Discount</label>
            <input type="number" class="form-control" id="mainleft" name="tagline" required>
          </div>
          
        </form>
   
      <br>
      <button type="button" id="addSelectedBtn">Add Selected</button>
    </div>
  </div>


<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    document.getElementById("mainleft").addEventListener("input", function() {
      var maxDiscount = 100;
      var discountInput = parseFloat(this.value);
      
      if (isNaN(discountInput)) {
        this.value = ''; // Reset to empty if the input is not a valid number
      } else if (discountInput > maxDiscount) {
        this.value = maxDiscount; // Limit the input to the maximum discount value
      }
    });
  </script>
  

  <script>
    document.getElementById("mainleft").addEventListener("input", function() {
      var maxDiscount = 100;
      var discountInput = parseFloat(this.value);
  
      if (isNaN(discountInput)) {
        this.value = ''; // Reset to empty if the input is not a valid number
      } else if (discountInput > maxDiscount) {
        this.value = maxDiscount + '%'; // Limit the input to the maximum discount value with percentage symbol
      } else {
        this.value = discountInput + '%'; // Append the percentage symbol to the valid input value
      }
    });
  </script>
  


<!-- Your existing JavaScript code (if any) -->
<script>
  $(document).ready(function() {
    // Function to handle the "Add Selected" button click event
    $("#addSelectedBtn").click(function() {
      // Get the form data and filter selected plants
      const sale = {{classification.id}}
      const selectedPlants = $("input[name='selectedPlants']:checked").map(function() {
        return $(this).val();
      }).get();

      // Ajax request to send the selected plants to the backend
      $.ajax({
        url: "{% url 'dashboard:add_plants_to_sale' %}",  // Replace with the actual URL to handle the request on the backend
        method: "POST",
        data: { selectedPlants: selectedPlants,
        sale : sale
       },
        dataType: "json",
        success: function(response) {
          // Handle the response from the backend (if needed)
          console.log("Selected plants added to the table!");
        },
        error: function(xhr, status, error) {
          // Handle any error that occurs during the request
          console.error(error);
        }
      });
    });
  });
</script>
{% comment %} <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function() {
    // Function to handle the search functionality
    $("#searchInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#addProductsForm label").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      });
    });

    // Function to show the modal
    $("#openModalBtn").click(function() {
      $("#open-modal").fadeIn();
    });

    // Function to close the modal
    $(".modal-close").click(function() {
      $("#open-modal").fadeOut();
    });

    // Function to handle the "Add Selected" button click event
    $("#addSelectedBtn").click(function() {
      // Get the form data and filter selected plants
      const selectedPlants = $("input[name='selectedPlants']:checked").map(function() {
        return $(this).val();
      }).get();

      // ... (your existing AJAX code to handle adding the selected plants to the table)
    });
  });
</script> {% endcomment %}
<style>
   
  
  
    .modal-content {
      max-height: 400px;
      overflow-y: auto;
    }
  
    .modal-content label {
      display: block;
      margin-bottom: 10px;
    }
  
    #addSelectedBtn {
      background-color: #007bff;
      color: #fff;
      padding: 10px 15px;
      border: none;
      cursor: pointer;
    }
  
    #addSelectedBtn:hover {
      background-color: #0056b3;
    }
  </style>
  
 
<style>

  
    #addSelectedBtn {
      background-color: #007bff;
      color: #fff;
      padding: 10px 15px;
      border: none;
      cursor: pointer;
    }
  
    #addSelectedBtn:hover {
      background-color: #0056b3;
    }
  </style> 
  

      <style>
        .modal-window {
            position: fixed;
            background-color: rgba(255, 255, 255, .5);
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            z-index: 999;
            visibility: hidden;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s;
            &:target {
              visibility: visible;
              opacity: 1;
              pointer-events: auto;
            }
            & > div {
              width: 400px;
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              padding: 2em;
              background: white;
            }
            header {
              font-weight: bold;
            }
            h1 {
              font-size: 150%;
              margin: 0 0 15px;
            }
          }
          
          .modal-close {
            color: #aaa;
            line-height: 50px;
            font-size: 80%;
            position: absolute;
            right: 0;
            text-align: center;
            top: 0;
            width: 70px;
            text-decoration: none;
            &:hover {
              color: black;
            }
          }
          
          /* Demo Styles */
         
       
          
          .modal-window {
            & > div {
              border-radius: 1rem;
            }
          }
          
          .modal-window div:not(:last-of-type) {
            margin-bottom: 15px;
          }
          
          .logo {
            max-width: 150px;
            display: block;
          }
          
          small {
            color: lightgray;
          }
          
          .btn {
            background-color: white;
            padding: 1em 1.5em;
            border-radius: 0.5rem;
            text-decoration: none;
            i {
              padding-right: 0.3em;
            }
          }
          
      </style>
            <script src="assets/js/vendors/jquery-3.6.0.min.js"></script>
            <script src="assets/js/vendors/bootstrap.bundle.min.js"></script>
            <script src="assets/js/vendors/select2.min.js"></script>
            <script src="assets/js/vendors/perfect-scrollbar.js"></script>
            <script src="assets/js/vendors/jquery.fullscreen.min.js"></script>
            <!-- Main Script -->
            <script src="assets/js/main.js" type="text/javascript"></script>
        </body>
        
      

<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-products-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:12 GMT -->
</html>